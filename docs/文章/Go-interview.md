## go 看对象是在堆还是在栈

对象分配在栈上还是堆上由内部实现决定，一般来讲：

- 函数调用的参数、返回值及小类型局部变量会分配到栈上，由编译器管理
- 大对象、逃逸的变量会分配到堆上

## go 的垃圾回收方式有哪些?有什么优缺点

Go 使用三色标记法进行垃圾回收，主要流程：

- 首先把所有的对象都放到白色的集合中
- 从根节点开始遍历对象，遍历到的白色对象从白色集合中放到灰色集合中
- 遍历灰色集合中的对象，把灰色对象引用的白色集合的对象放入到灰色集合中，同时把遍历过的灰色集合中的对象放到黑色的集合中
- 循环上一步，直到灰色集合中没有对象
- 灰色集合中没有对象了，白色集合中的对象就是不可达对象，也就是垃圾，进行回收
